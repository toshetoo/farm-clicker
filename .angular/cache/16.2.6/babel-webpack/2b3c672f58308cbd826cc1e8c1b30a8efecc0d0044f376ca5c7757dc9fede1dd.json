{"ast":null,"code":"import { Subject } from \"rxjs\";\nexport class BaseClickableItem {\n  constructor() {\n    this.priceIncreaseFactor = 1;\n    this.income$ = new Subject();\n    this.timer = setInterval(() => {\n      this.income$.next(this.calculateIncome());\n    }, 1000);\n  }\n  addNew() {\n    this.count++;\n    this.updatePrice();\n  }\n  remove() {\n    this.count--;\n    if (this.count === 0) {\n      this.income$.complete();\n      this.stopTimer();\n    }\n  }\n  getPrice() {\n    return this.price + this.priceIncreaseFactor * this.count;\n  }\n  updatePrice() {\n    this.price = this.price + this.priceIncreaseFactor * this.count;\n  }\n  calculateIncome() {\n    return this.count * this.income;\n  }\n  stopTimer() {\n    clearInterval(this.timer);\n  }\n}","map":{"version":3,"names":["Subject","BaseClickableItem","constructor","priceIncreaseFactor","income$","timer","setInterval","next","calculateIncome","addNew","count","updatePrice","remove","complete","stopTimer","getPrice","price","income","clearInterval"],"sources":["D:\\projects\\clicker-game-ng\\src\\app\\tools\\models\\base-clickable-item.model.ts"],"sourcesContent":["import { Subject } from \"rxjs\";\r\n\r\nexport class BaseClickableItem {\r\n    id!: number;\r\n    name!: string;\r\n    icon!: string;\r\n    income!: number;\r\n    power!: number;\r\n    count!: number;\r\n    price!: number;\r\n    priceIncreaseFactor: number = 1;\r\n\r\n    income$: Subject<number> = new Subject<number>();\r\n\r\n    private timer: any;\r\n\r\n    constructor() {\r\n        this.timer = setInterval(() => {\r\n            this.income$.next(this.calculateIncome());\r\n        }, 1000);\r\n    }\r\n\r\n    public addNew() {\r\n        this.count++;\r\n        this.updatePrice();\r\n    }\r\n\r\n    public remove() {\r\n        this.count--;\r\n        if (this.count === 0) {\r\n            this.income$.complete();\r\n            this.stopTimer();\r\n        }\r\n    }\r\n\r\n    public getPrice() {\r\n        return this.price + (this.priceIncreaseFactor * this.count);\r\n    }\r\n\r\n    private updatePrice() {\r\n        this.price = this.price + (this.priceIncreaseFactor * this.count);\r\n    }\r\n\r\n    private calculateIncome() { \r\n        return this.count * this.income;\r\n    }\r\n\r\n    private stopTimer() {\r\n        clearInterval(this.timer);\r\n    }    \r\n}"],"mappings":"AAAA,SAASA,OAAO,QAAQ,MAAM;AAE9B,OAAM,MAAOC,iBAAiB;EAc1BC,YAAA;IANA,KAAAC,mBAAmB,GAAW,CAAC;IAE/B,KAAAC,OAAO,GAAoB,IAAIJ,OAAO,EAAU;IAK5C,IAAI,CAACK,KAAK,GAAGC,WAAW,CAAC,MAAK;MAC1B,IAAI,CAACF,OAAO,CAACG,IAAI,CAAC,IAAI,CAACC,eAAe,EAAE,CAAC;IAC7C,CAAC,EAAE,IAAI,CAAC;EACZ;EAEOC,MAAMA,CAAA;IACT,IAAI,CAACC,KAAK,EAAE;IACZ,IAAI,CAACC,WAAW,EAAE;EACtB;EAEOC,MAAMA,CAAA;IACT,IAAI,CAACF,KAAK,EAAE;IACZ,IAAI,IAAI,CAACA,KAAK,KAAK,CAAC,EAAE;MAClB,IAAI,CAACN,OAAO,CAACS,QAAQ,EAAE;MACvB,IAAI,CAACC,SAAS,EAAE;;EAExB;EAEOC,QAAQA,CAAA;IACX,OAAO,IAAI,CAACC,KAAK,GAAI,IAAI,CAACb,mBAAmB,GAAG,IAAI,CAACO,KAAM;EAC/D;EAEQC,WAAWA,CAAA;IACf,IAAI,CAACK,KAAK,GAAG,IAAI,CAACA,KAAK,GAAI,IAAI,CAACb,mBAAmB,GAAG,IAAI,CAACO,KAAM;EACrE;EAEQF,eAAeA,CAAA;IACnB,OAAO,IAAI,CAACE,KAAK,GAAG,IAAI,CAACO,MAAM;EACnC;EAEQH,SAASA,CAAA;IACbI,aAAa,CAAC,IAAI,CAACb,KAAK,CAAC;EAC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}