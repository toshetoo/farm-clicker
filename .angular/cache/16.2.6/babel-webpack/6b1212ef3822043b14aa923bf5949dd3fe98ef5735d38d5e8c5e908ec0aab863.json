{"ast":null,"code":"import { Subject } from \"rxjs\";\nexport class BaseClickableItem {\n  constructor() {\n    this.income$ = new Subject();\n    this.timer = setInterval(() => {\n      this.income$.next(this.calculateIncome());\n    }, 1000);\n  }\n  addNew() {\n    this.count++;\n  }\n  remove() {\n    this.count--;\n    if (this.count === 0) {\n      this.income$.complete();\n      this.stopTimer();\n    }\n  }\n  calculateIncome() {\n    return this.count * this.income;\n  }\n  stopTimer() {\n    clearInterval(this.timer);\n  }\n}","map":{"version":3,"names":["Subject","BaseClickableItem","constructor","income$","timer","setInterval","next","calculateIncome","addNew","count","remove","complete","stopTimer","income","clearInterval"],"sources":["D:\\projects\\clicker-game-ng\\src\\app\\tools\\models\\base-clickable-item.model.ts"],"sourcesContent":["import { Subject } from \"rxjs\";\r\n\r\nexport class BaseClickableItem {\r\n    id!: number;\r\n    name!: string;\r\n    icon!: string;\r\n    income!: number;\r\n    power!: number;\r\n    count!: number;\r\n\r\n    income$: Subject<number> = new Subject<number>();\r\n\r\n    private timer: any;\r\n\r\n    constructor() {\r\n        this.timer = setInterval(() => {\r\n            this.income$.next(this.calculateIncome());\r\n        }, 1000);\r\n    }\r\n\r\n    protected addNew() {\r\n        this.count++;\r\n    }\r\n\r\n    protected remove() {\r\n        this.count--;\r\n        if (this.count === 0) {\r\n            this.income$.complete();\r\n            this.stopTimer();\r\n        }\r\n    }\r\n\r\n    private calculateIncome() { \r\n        return this.count * this.income;\r\n    }\r\n\r\n    private stopTimer() {\r\n        clearInterval(this.timer);\r\n    }    \r\n}"],"mappings":"AAAA,SAASA,OAAO,QAAQ,MAAM;AAE9B,OAAM,MAAOC,iBAAiB;EAY1BC,YAAA;IAJA,KAAAC,OAAO,GAAoB,IAAIH,OAAO,EAAU;IAK5C,IAAI,CAACI,KAAK,GAAGC,WAAW,CAAC,MAAK;MAC1B,IAAI,CAACF,OAAO,CAACG,IAAI,CAAC,IAAI,CAACC,eAAe,EAAE,CAAC;IAC7C,CAAC,EAAE,IAAI,CAAC;EACZ;EAEUC,MAAMA,CAAA;IACZ,IAAI,CAACC,KAAK,EAAE;EAChB;EAEUC,MAAMA,CAAA;IACZ,IAAI,CAACD,KAAK,EAAE;IACZ,IAAI,IAAI,CAACA,KAAK,KAAK,CAAC,EAAE;MAClB,IAAI,CAACN,OAAO,CAACQ,QAAQ,EAAE;MACvB,IAAI,CAACC,SAAS,EAAE;;EAExB;EAEQL,eAAeA,CAAA;IACnB,OAAO,IAAI,CAACE,KAAK,GAAG,IAAI,CAACI,MAAM;EACnC;EAEQD,SAASA,CAAA;IACbE,aAAa,CAAC,IAAI,CAACV,KAAK,CAAC;EAC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}